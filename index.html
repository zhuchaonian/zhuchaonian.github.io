<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç«¹æœå¹´Â·ç›¸é¢æ‰‹ç›¸æŠ¤èº«ç¬¦</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:system-ui;}
        body{background:#1a1a2e;color:#fff;padding:15px;}
        .container{max-width:600px;margin:0 auto;}
        h1{color:gold;text-align:center;margin:20px 0;font-size:2em;}
        .sub{color:#aaa;text-align:center;margin-bottom:30px;}
        
        /* å¯¼èˆª */
        .nav{display:flex;justify-content:center;gap:5px;margin:20px 0;flex-wrap:wrap;}
        .nav-item{background:#16213e;border:1px solid gold;padding:10px 15px;border-radius:50px;color:gold;cursor:pointer;flex:1;min-width:70px;text-align:center;}
        .nav-item.active{background:gold;color:#1a1a2e;font-weight:bold;}
        
        /* é¡µé¢åˆ‡æ¢ */
        .page{display:none;margin-top:20px;}
        .page.active{display:block;}
        
        /* æ‹ç…§ä¸Šä¼ æŒ‰é’® */
        .photo-btn{background:gold;color:#1a1a2e;padding:15px;border-radius:50px;text-align:center;font-size:1.2em;font-weight:bold;margin:10px 0;cursor:pointer;border:2px solid #ffaa00;}
        .file-btn{background:#16213e;color:gold;padding:15px;border-radius:50px;text-align:center;font-size:1.1em;margin:10px 0;cursor:pointer;border:2px dashed gold;}
        
        /* é¢„è§ˆå›¾ */
        .preview{width:100%;border-radius:30px;border:3px solid gold;margin:20px 0;display:none;}
        
        /* ç»“æœæ¡† */
        .result-box{background:#16213e;border-radius:30px;padding:20px;margin:20px 0;border-left:5px solid gold;}
        .line{background:#1e1e3f;padding:15px;border-radius:15px;margin:10px 0;}
        .line-name{color:gold;font-weight:bold;margin-bottom:5px;}
        
        /* æŠ¤èº«ç¬¦æ ·å¼ */
        .amulet-card{background:linear-gradient(145deg,#2a1e2e,#1e1a3e);border:2px solid gold;border-radius:30px;padding:30px;text-align:center;margin:20px 0;box-shadow:0 0 30px rgba(255,215,0,0.3);}
        .amulet-symbol{font-size:5em;margin:10px 0;animation:glow 2s infinite;}
        @keyframes glow{0%{opacity:0.8;}50%{opacity:1;text-shadow:0 0 20px gold;}100%{opacity:0.8;}}
        .amulet-word{font-size:1.5em;color:gold;font-weight:bold;margin:10px 0;}
        .amulet-desc{color:#ccc;line-height:1.6;margin:15px 0;}
        
        .btn{background:gold;color:#1a1a2e;border:none;padding:15px;border-radius:50px;width:100%;font-weight:bold;margin:10px 0;cursor:pointer;}
        .footer{text-align:center;color:#666;margin:30px 0;font-size:0.9em;}
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”® ç«¹æœå¹´Â·ç›¸é¢æ‰‹ç›¸</h1>
        <div class="sub">æ‹ç…§è§£è¯» Â· è¿åŠ¿ Â· æŠ¤èº«ç¬¦</div>
        
        <!-- å¯¼èˆª -->
        <div class="nav">
            <div class="nav-item active" onclick="switchPage('face')">ğŸ‘¤ è„¸ç›¸</div>
            <div class="nav-item" onclick="switchPage('hand')">âœ‹ æ‰‹ç›¸</div>
            <div class="nav-item" onclick="switchPage('fortune')">â­ è¿åŠ¿</div>
            <div class="nav-item" onclick="switchPage('amulet')">ğŸ›¡ï¸ æŠ¤èº«ç¬¦</div>
        </div>
        
        <!-- è„¸ç›¸é¡µé¢ -->
        <div id="face" class="page active">
            <div class="photo-btn" onclick="takePhoto('face')">ğŸ“¸ æ‹è„¸ç›¸</div>
            <div class="file-btn" onclick="selectPhoto('face')">ğŸ“ ä»ç›¸å†Œé€‰ç…§ç‰‡</div>
            <input type="file" id="faceFile" accept="image/*" style="display:none;" onchange="handleFile(this, 'face')">
            < img id="facePreview" class="preview" src="#" alt="è„¸ç›¸é¢„è§ˆ">
            <div id="faceResult" class="result-box" style="display:none;">
                <h3 style="color:gold;text-align:center;">ğŸ‘¤ é¢ç›¸è§£è¯»</h3>
                <div class="line"><span class="line-name">é¢å¤´</span><br><span id="forehead">é¥±æ»¡å…‰æ´ï¼Œæ™ºæ…§é«˜</span></div>
                <div class="line"><span class="line-name">çœ‰æ¯›</span><br><span id="eyebrow">æµ“å¯†æ•´é½ï¼Œå…„å¼Ÿå¤šåŠ©</span></div>
                <div class="line"><span class="line-name">çœ¼ç›</span><br><span id="eye">é»‘ç™½åˆ†æ˜ï¼Œè´µäººè¿å¼º</span></div>
                <div class="line"><span class="line-name">é¼»å­</span><br><span id="nose">æŒºç›´æœ‰è‚‰ï¼Œè´¢è¿ä½³</span></div>
                <div class="line"><span class="line-name">å˜´å·´</span><br><span id="mouth">æ£±è§’åˆ†æ˜ï¼Œå£ç¦å¥½</span></div>
                <div class="line"><span class="line-name">ä¸‹å·´</span><br><span id="chin">åœ†æ¶¦é¥±æ»¡ï¼Œæ™šå¹´è¿</span></div>
                <button class="btn" onclick="randomFace()">ğŸ”„ é‡æ–°è§£è¯»</button>
            </div>
        </div>
        
        <!-- æ‰‹ç›¸é¡µé¢ -->
        <div id="hand" class="page">
            <div class="photo-btn" onclick="takePhoto('hand')">ğŸ“¸ æ‹æ‰‹ç›¸</div>
            <div class="file-btn" onclick="selectPhoto('hand')">ğŸ“ ä»ç›¸å†Œé€‰ç…§ç‰‡</div>
            <input type="file" id="handFile" accept="image/*" style="display:none;" onchange="handleFile(this, 'hand')">
            < img id="handPreview" class="preview" src="#" alt="æ‰‹ç›¸é¢„è§ˆ">
            <div id="handResult" class="result-box" style="display:none;">
                <h3 style="color:gold;text-align:center;">âœ‹ æ‰‹ç›¸è§£è¯»</h3>
                <div class="line"><span class="line-name">â¤ï¸ æ„Ÿæƒ…çº¿</span><br><span id="love">æ·±é•¿æ¸…æ™°ï¼Œæ„Ÿæƒ…ç¾æ»¡</span></div>
                <div class="line"><span class="line-name">ğŸ§  æ™ºæ…§çº¿</span><br><span id="head">å¹³ç›´æœ‰åŠ›ï¼Œäº‹ä¸šæœ‰æˆ</span></div>
                <div class="line"><span class="line-name">ğŸŒ± ç”Ÿå‘½çº¿</span><br><span id="life">å¼ºå¥ç»µé•¿ï¼Œå¥åº·é•¿å¯¿</span></div>
                <div class="line"><span class="line-name">ğŸ’« å‘½è¿çº¿</span><br><span id="fate">æ˜æ˜¾æ¸…æ™°ï¼Œè´µäººç›¸åŠ©</span></div>
                <button class="btn" onclick="randomHand()">ğŸ”„ é‡æ–°è§£è¯»</button>
            </div>
        </div>
        
        <!-- è¿åŠ¿é¡µé¢ -->
        <div id="fortune" class="page">
            <div class="result-box">
                <h3 style="color:gold;text-align:center;">â­ ä»Šæ—¥è¿åŠ¿</h3>
                <div class="line"><span class="line-name">ğŸ’° è´¢è¿</span><br><span id="money">â˜…â˜…â˜…â˜…â˜† æ­£è´¢ç¨³å®š</span></div>
                <div class="line"><span class="line-name">â¤ï¸ æ„Ÿæƒ…</span><br><span id="loveFortune">â˜…â˜…â˜…â˜…â˜… æ¡ƒèŠ±æ—ºç››</span></div>
                <div class="line"><span class="line-name">ğŸ’¼ äº‹ä¸š</span><br><span id="work">â˜…â˜…â˜…â˜…â˜† è´µäººç›¸åŠ©</span></div>
                <div class="line"><span class="line-name">ğŸ¥ å¥åº·</span><br><span id="health">â˜…â˜…â˜…â˜…â˜† çŠ¶æ€è‰¯å¥½</span></div>
                <div class="line"><span class="line-name">ğŸ‹ å¹¸è¿</span><br><span id="lucky">æ•°å­—8 Â· é‡‘è‰² Â· æ­£ä¸œ</span></div>
                <button class="btn" onclick="refreshFortune()">ğŸ”„ åˆ·æ–°è¿åŠ¿</button>
            </div>
        </div>
        
        <!-- æŠ¤èº«ç¬¦é¡µé¢ -->
        <div id="amulet" class="page">
            <div id="amuletDisplay" class="amulet-card">
                <div class="amulet-symbol" id="amuletSymbol">ğŸ›¡ï¸</div>
                <div class="amulet-word" id="amuletTitle">é‡‘è¿æŠ¤èº«ç¬¦</div>
                <div class="amulet-desc" id="amuletDesc">æ‹›è´¢è¿›å®ï¼Œè´¢è¿äº¨é€šï¼Œè¯¸äº‹é¡ºé‚</div>
            </div>
            <div style="display:flex;gap:10px;">
                <button class="btn" style="flex:1;" onclick="drawAmulet()">ğŸ´ æ±‚æŠ¤èº«ç¬¦</button>
                <button class="btn" style="flex:1;" onclick="shareAmulet()">ğŸ“¤ ä¿å­˜/åˆ†äº«</button>
            </div>
        </div>
        
        <div class="footer">âœ¨ ä»…ä¾›å¨±ä¹ Â· ç§‘å­¦çœ‹å¾… âœ¨</div>
    </div>
    
    <script>
        // å½“å‰é€‰æ‹©çš„é¡µé¢
        let currentPage = 'face';
        let currentFileInput = null;
        
        // åˆ‡æ¢é¡µé¢
        function switchPage(page) {
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('.page').forEach(el => el.classList.remove('active'));
            document.getElementById(page).classList.add('active');
            currentPage = page;
        }
        
        // æ‹ç…§
        function takePhoto(page) {
            const input = document.getElementById(page + 'File');
            input.setAttribute('capture', 'environment');
            currentFileInput = input;
            input.click();
        }
        
        // ä»ç›¸å†Œé€‰
        function selectPhoto(page) {
            const input = document.getElementById(page + 'File');
            input.removeAttribute('capture');
            currentFileInput = input;
            input.click();
        }
        
        // å¤„ç†æ–‡ä»¶
        function handleFile(input, page) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    // æ˜¾ç¤ºé¢„è§ˆ
                    const preview = document.getElementById(page + 'Preview');
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                    
                    // æ˜¾ç¤ºç»“æœ
                    document.getElementById(page + 'Result').style.display = 'block';
                    
                    // æ ¹æ®é¡µé¢éšæœºç»“æœ
                    if (page === 'face') randomFace();
                    else if (page === 'hand') randomHand();
                }
                reader.readAsDataURL(input.files[0]);
            }
        }
        
        // éšæœºé¢ç›¸
        function randomFace() {
            const forehead = ['é¥±æ»¡å…‰æ´ï¼Œæ™ºæ…§é«˜','ä½çª„ï¼Œå°‘å¹´è¾›è‹¦','æœ‰ç—£ï¼Œè´µäººè¿','æœ‰æ¨ªçº¹ï¼Œæ€è€ƒå¤š'];
            const eyebrow = ['æµ“å¯†æ•´é½ï¼Œå…„å¼Ÿå¤šåŠ©','ç¨€ç–ï¼Œç‹¬ç«‹è‡ªä¸»','è¿çœ‰ï¼Œæ€§æ ¼æ‰§ç€','çœ‰å°¾æ•£ï¼Œè´¢æ¥è´¢å»'];
            const eye = ['é»‘ç™½åˆ†æ˜ï¼Œè´µäººè¿','çœ¼å°¾ä¸‹å‚ï¼Œå¿ƒå–„','çœ¼å°èšå…‰ï¼Œè§‚å¯ŸåŠ›å¼º','æ¡ƒèŠ±çœ¼ï¼Œå¼‚æ€§ç¼˜ä½³'];
            const nose = ['æŒºç›´æœ‰è‚‰ï¼Œè´¢è¿ä½³','é¼»å¤´åœ†ï¼Œæ­£è´¢è¿','é¼»æ¢é«˜ï¼Œäº‹ä¸šå¼º','é¼»å­”éœ²ï¼Œæ˜“ç ´è´¢'];
            const mouth = ['æ£±è§’åˆ†æ˜ï¼Œå£ç¦å¥½','å˜´è§’ä¸Šæ‰¬ï¼Œä¹è§‚','å”‡è–„ï¼Œå£æ‰å¥½','å”‡åšï¼Œé‡æ„Ÿæƒ…'];
            const chin = ['åœ†æ¶¦é¥±æ»¡ï¼Œæ™šå¹´è¿','ä¸‹å·´å°–ï¼Œè‰ºæœ¯æ‰','åŒä¸‹å·´ï¼Œç¦æ°”åš','æ–¹ä¸‹å·´ï¼Œæ„å¿—åš'];
            
            document.getElementById('forehead').innerHTML = forehead[Math.floor(Math.random()*forehead.length)];
            document.getElementById('eyebrow').innerHTML = eyebrow[Math.floor(Math.random()*eyebrow.length)];
            document.getElementById('eye').innerHTML = eye[Math.floor(Math.random()*eye.length)];
            document.getElementById('nose').innerHTML = nose[Math.floor(Math.random()*nose.length)];
            document.getElementById('mouth').innerHTML = mouth[Math.floor(Math.random()*mouth.length)];
            document.getElementById('chin').innerHTML = chin[Math.floor(Math.random()*chin.length)];
        }
        
        // éšæœºæ‰‹ç›¸
        function randomHand() {
            const love = ['æ·±é•¿æ¸…æ™°ï¼Œæ„Ÿæƒ…ç¾æ»¡','æœ«ç«¯ä¸Šå¼¯ï¼Œæµªæ¼«å¤šæƒ…','æœ‰å²›çº¹ï¼Œæ„Ÿæƒ…æ³¢æŠ˜','åŒé‡æ„Ÿæƒ…çº¿ï¼Œæ¡ƒèŠ±æ—º'];
            const head = ['å¹³ç›´æœ‰åŠ›ï¼Œäº‹ä¸šæœ‰æˆ','åˆ†å‰å¤šï¼Œå¤šæ‰å¤šè‰º','ä¸ç”Ÿå‘½çº¿ç›¸è¿ï¼Œè°¨æ…','æ³¢æµªå½¢ï¼Œæƒ³è±¡åŠ›å¼º'];
            const life = ['å¼ºå¥ç»µé•¿ï¼Œå¥åº·é•¿å¯¿','ç¯ç»•æ‹‡æŒ‡ï¼Œç²¾åŠ›å……æ²›','é“¾çŠ¶ï¼Œéœ€æ³¨æ„å…»ç”Ÿ','æœ«ç«¯åˆ†å‰ï¼Œæ™šå¹´ä½³'];
            const fate = ['æ˜æ˜¾æ¸…æ™°ï¼Œè´µäººç›¸åŠ©','æ–­æ–­ç»­ç»­ï¼Œä¸­å¹´è½¬å¥½','èµ·è‡ªæœˆä¸˜ï¼Œç™½æ‰‹èµ·å®¶','æ— å‘½è¿çº¿ï¼Œè‡ªä¸»åˆ›ä¸š'];
            
            document.getElementById('love').innerHTML = love[Math.floor(Math.random()*love.length)];
            document.getElementById('head').innerHTML = head[Math.floor(Math.random()*head.length)];
            document.getElementById('life').innerHTML = life[Math.floor(Math.random()*life.length)];
            document.getElementById('fate').innerHTML = fate[Math.floor(Math.random()*fate.length)];
        }
        
        // åˆ·æ–°è¿åŠ¿
        function refreshFortune() {
            const stars = ['â˜…â˜…','â˜…â˜…â˜…','â˜…â˜…â˜…â˜…','â˜…â˜…â˜…â˜…â˜…'];
            const moneys = ['æ­£è´¢ç¨³å®š','åè´¢æ—º','æŠ•èµ„å‰','å®ˆè´¢å®œ','ç ´è´¢å…ç¾'];
            const loves = ['æ¡ƒèŠ±æ—º','æ„Ÿæƒ…å‡æ¸©','å•èº«é‡ç¼˜','å·²å©šç”œèœœ','æ³¨æ„å£è§’'];
            const works = ['è´µäººç›¸åŠ©','å‡èŒæœºä¼š','åˆä½œå‰','è·³æ§½å‰','ç¨³å®ˆå²—ä½'];
            const healths = ['çŠ¶æ€è‰¯å¥½','æ³¨æ„ä¼‘æ¯','ç²¾åŠ›å……æ²›','å°ç—…æ³¨æ„','è¿åŠ¨å‰'];
            const luckys = ['æ•°å­—8Â·é‡‘è‰²','æ•°å­—3Â·çº¢è‰²','æ•°å­—6Â·ç»¿è‰²','æ•°å­—9Â·ç´«è‰²','æ•°å­—1Â·ç™½è‰²'];
            
            document.getElementById('money').innerHTML = stars[Math.floor(Math.random()*stars.length)] + ' ' + moneys[Math.floor(Math.random()*moneys.length)];
            document.getElementById('loveFortune').innerHTML = stars[Math.floor(Math.random()*stars.length)] + ' ' + loves[Math.floor(Math.random()*loves.length)];
            document.getElementById('work').innerHTML = stars[Math.floor(Math.random()*stars.length)] + ' ' + works[Math.floor(Math.random()*works.length)];
            document.getElementById('health').innerHTML = stars[Math.floor(Math.random()*stars.length)] + ' ' + healths[Math.floor(Math.random()*healths.length)];
            document.getElementById('lucky').innerHTML = luckys[Math.floor(Math.random()*luckys.length)];
        }
        
        // æ±‚æŠ¤èº«ç¬¦
        function drawAmulet() {
            const symbols = ['ğŸ›¡ï¸','ğŸ”®','âš¡','ğŸŒŸ','ğŸ’«','âœ¨','ğŸ”±','ğŸ®'];
            const titles = ['é‡‘è¿æŠ¤èº«ç¬¦','å¹³å®‰æŠ¤èº«ç¬¦','çˆ±æƒ…æŠ¤èº«ç¬¦','äº‹ä¸šæŠ¤èº«ç¬¦','æ™ºæ…§æŠ¤èº«ç¬¦','è¾Ÿé‚ªæŠ¤èº«ç¬¦','æ‹›è´¢ç¬¦','å’Œåˆç¬¦'];
            const descs = [
                'æ‹›è´¢è¿›å®ï¼Œè´¢è¿äº¨é€šï¼Œè¯¸äº‹é¡ºé‚',
                'å‡ºå…¥å¹³å®‰ï¼Œç¾ç¥¸ä¸ä¾µï¼Œç¦æ˜Ÿé«˜ç…§',
                'æ¡ƒèŠ±æ—ºç››ï¼Œå§»ç¼˜ç¾æ»¡ï¼Œæ„Ÿæƒ…é¡ºåˆ©',
                'è´µäººç›¸åŠ©ï¼Œäº‹ä¸šæœ‰æˆï¼Œæ­¥æ­¥é«˜å‡',
                'æ™ºæ…§å¢é•¿ï¼Œå­¦ä¸šè¿›æ­¥ï¼Œè€ƒè¯•é¡ºåˆ©',
                'é©±é‚ªé¿å‡¶ï¼Œæ­£æ°”æŠ¤ä½“ï¼Œç™¾æ— ç¦å¿Œ',
                'æ­£è´¢åè´¢ï¼Œè´¢æºå¹¿è¿›ï¼Œå¯Œè´µè‡ªæ¥',
                'å¤«å¦»å’Œç¦ï¼Œæ„Ÿæƒ…ç”œèœœï¼Œå®¶åº­å¹¸ç¦'
            ];
            
            const idx = Math.floor(Math.random() * titles.length);
            document.getElementById('amuletSymbol').innerHTML = symbols[idx];
            document.getElementById('amuletTitle').innerHTML = titles[idx];
            document.getElementById('amuletDesc').innerHTML = descs[idx];
        }
        
        // åˆ†äº«/ä¿å­˜ï¼ˆæˆªå›¾ï¼‰
        function shareAmulet() {
            alert('é•¿æŒ‰æŠ¤èº«ç¬¦å›¾ç‰‡å¯ä¿å­˜');
        }
        
        // åˆå§‹åŒ–è¿åŠ¿
        refreshFortune();
        // åˆå§‹åŒ–æŠ¤èº«ç¬¦
        drawAmulet();
    </script>
</body>
</html>
